<!doctype html>
<html lang="kk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CodePedia · Planet Teams</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
  <style>
    :root{
      --radius: 22px;
      --glow: 0 18px 60px rgba(0,0,0,.45);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      overflow:hidden;
      background:
        radial-gradient(1200px 700px at 20% 18%, rgba(37,99,235,.28), transparent 60%),
        radial-gradient(900px 600px at 80% 22%, rgba(6,182,212,.22), transparent 62%),
        radial-gradient(900px 700px at 55% 88%, rgba(168,85,247,.14), transparent 65%),
        radial-gradient(700px 500px at 15% 85%, rgba(249,115,22,.10), transparent 60%),
        linear-gradient(180deg, #070b14, #040610);
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }

    /* ⭐ Stars layer */
    .stars, .stars::before, .stars::after{
      position:absolute; inset:0; content:"";
      background-repeat: repeat;
      pointer-events:none;
    }
    .stars{
      background-image:
        radial-gradient(1px 1px at 12px 18px, rgba(255,255,255,.65) 50%, transparent 52%),
        radial-gradient(1px 1px at 72px 58px, rgba(255,255,255,.40) 50%, transparent 52%),
        radial-gradient(1px 1px at 140px 90px, rgba(255,255,255,.55) 50%, transparent 52%),
        radial-gradient(1px 1px at 210px 35px, rgba(255,255,255,.35) 50%, transparent 52%),
        radial-gradient(1px 1px at 260px 120px, rgba(255,255,255,.45) 50%, transparent 52%),
        radial-gradient(1px 1px at 320px 70px, rgba(255,255,255,.55) 50%, transparent 52%),
        radial-gradient(1px 1px at 420px 40px, rgba(255,255,255,.40) 50%, transparent 52%),
        radial-gradient(1px 1px at 500px 110px, rgba(255,255,255,.60) 50%, transparent 52%);
      background-size: 560px 160px;
      opacity:.55;
      filter: drop-shadow(0 0 6px rgba(255,255,255,.12));
      animation: drift 26s linear infinite;
    }
    .stars::before{
      background-image:
        radial-gradient(1px 1px at 30px 40px, rgba(255,255,255,.30) 50%, transparent 52%),
        radial-gradient(1px 1px at 160px 20px, rgba(255,255,255,.42) 50%, transparent 52%),
        radial-gradient(1px 1px at 260px 60px, rgba(255,255,255,.26) 50%, transparent 52%),
        radial-gradient(1px 1px at 420px 90px, rgba(255,255,255,.33) 50%, transparent 52%),
        radial-gradient(1px 1px at 520px 35px, rgba(255,255,255,.38) 50%, transparent 52%);
      background-size: 560px 140px;
      opacity:.45;
      animation: drift2 40s linear infinite;
    }
    .stars::after{
      background-image:
        radial-gradient(2px 2px at 100px 30px, rgba(255,255,255,.18) 50%, transparent 52%),
        radial-gradient(2px 2px at 300px 90px, rgba(255,255,255,.14) 50%, transparent 52%),
        radial-gradient(2px 2px at 480px 60px, rgba(255,255,255,.16) 50%, transparent 52%);
      background-size: 560px 160px;
      opacity:.35;
      filter: blur(.2px);
      animation: twinkle 3.8s ease-in-out infinite;
    }
    @keyframes drift { to { transform: translate3d(-80px, 0, 0); } }
    @keyframes drift2 { to { transform: translate3d(-120px, 0, 0); } }
    @keyframes twinkle { 50% { opacity:.18; } }

    /* Layout */
    .stage{
      position:absolute; inset:0;
      display:grid;
      place-items:center;
    }

    /* Sun */
    .sun-wrap{
      position:relative;
      width:min(46vmin, 320px);
      height:min(46vmin, 320px);
      display:grid;
      place-items:center;
      z-index:10;
    }
    .sun{
      width: clamp(120px, 18vmin, 190px);
      height: clamp(120px, 18vmin, 190px);
      border-radius: 50%;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.85), rgba(255,255,255,0) 38%),
        radial-gradient(circle at 40% 45%, #fff7c7 0%, #ffd36a 25%, #ff9b2f 55%, #ff6a00 78%, #ff3d00 100%);
      box-shadow:
        0 0 0 10px rgba(255,170,64,.08),
        0 0 0 24px rgba(255,170,64,.06),
        0 0 80px rgba(255,140,20,.55),
        0 0 150px rgba(255,90,10,.28);
      cursor:pointer;
      position:relative;
      outline:none;
      border: 1px solid rgba(255,255,255,.12);
      transform: translateZ(0);
      animation: sunPulse 2.8s ease-in-out infinite;
    }
    @keyframes sunPulse{
      0%,100%{ transform: scale(1); filter:saturate(1.05); }
      50%{ transform: scale(1.03); filter:saturate(1.2); }
    }
    .sun:active{ transform: scale(.98); }

    /* Rays */
    .rays{
      position:absolute;
      inset:-12%;
      border-radius:50%;
      background:
        conic-gradient(from 0deg,
          rgba(255,200,120,.00) 0 6%,
          rgba(255,200,120,.18) 6% 8%,
          rgba(255,200,120,.00) 8% 14%,
          rgba(255,200,120,.15) 14% 16%,
          rgba(255,200,120,.00) 16% 22%,
          rgba(255,200,120,.14) 22% 24%,
          rgba(255,200,120,.00) 24% 30%,
          rgba(255,200,120,.16) 30% 32%,
          rgba(255,200,120,.00) 32% 38%,
          rgba(255,200,120,.13) 38% 40%,
          rgba(255,200,120,.00) 40% 46%,
          rgba(255,200,120,.16) 46% 48%,
          rgba(255,200,120,.00) 48% 54%,
          rgba(255,200,120,.14) 54% 56%,
          rgba(255,200,120,.00) 56% 62%,
          rgba(255,200,120,.16) 62% 64%,
          rgba(255,200,120,.00) 64% 70%,
          rgba(255,200,120,.14) 70% 72%,
          rgba(255,200,120,.00) 72% 78%,
          rgba(255,200,120,.16) 78% 80%,
          rgba(255,200,120,.00) 80% 100%);
      filter: blur(1px);
      opacity:.55;
      animation: spin 10s linear infinite;
      pointer-events:none;
    }
    @keyframes spin{ to{ transform: rotate(360deg); } }

    /* Orbit field */
    .orbit{
      position:absolute;
      inset:-35%;
      border-radius:50%;
      pointer-events:none;
      opacity:.0;
      transform: scale(.96);
      transition: opacity .45s ease, transform .45s ease;
    }
    .orbit.on{
      opacity:1;
      transform: scale(1);
    }
    .orbit::before{
      content:"";
      position:absolute; inset:0;
      border-radius:50%;
      border: 1px solid rgba(255,255,255,.10);
      box-shadow: inset 0 0 0 1px rgba(0,0,0,.12);
      opacity:.32;
    }

    /* Planets */
    .planet{
      position:absolute;
      width: clamp(78px, 10vmin, 110px);
      height: clamp(78px, 10vmin, 110px);
      border-radius: 50%;
      box-shadow: var(--glow);
      border: 1px solid rgba(255,255,255,.14);
      pointer-events:auto;
      opacity:0;
      transform: translate3d(0,0,0) scale(.75);
      transition: opacity .5s ease, transform .5s cubic-bezier(.2,.9,.2,1);
      filter:saturate(1.1);
    }
    .orbit.on .planet{
      opacity:1;
      transform: translate3d(0,0,0) scale(1);
    }

    /* positions around */
    .planet.mars{ left: 6%; top: 14%; }
    .planet.jupiter{ right: 4%; top: 44%; }
    .planet.neptune{ left: 18%; bottom: 6%; }

    /* Planet skins */
    .planet.mars{
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.55), transparent 45%),
        radial-gradient(circle at 65% 70%, rgba(0,0,0,.14), transparent 55%),
        linear-gradient(145deg, #ff7a45, #cc2b2b);
      box-shadow:
        0 20px 50px rgba(0,0,0,.45),
        0 0 60px rgba(255,70,50,.18);
    }
    .planet.jupiter{
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.52), transparent 45%),
        repeating-linear-gradient(0deg,
          rgba(255,255,255,.00) 0 10px,
          rgba(0,0,0,.10) 10px 14px),
        linear-gradient(145deg, #ffd29c, #d28a5b);
      box-shadow:
        0 20px 50px rgba(0,0,0,.45),
        0 0 60px rgba(255,200,120,.16);
      position:absolute;
    }
    .planet.jupiter::after{
      content:"";
      position:absolute;
      left:-22%; top:48%;
      width:145%; height:22%;
      border-radius: 999px;
      transform: rotate(-12deg);
      background: linear-gradient(90deg, rgba(255,255,255,.0), rgba(255,255,255,.18), rgba(255,255,255,.0));
      filter: blur(.2px);
      opacity:.75;
      pointer-events:none;
    }
    .planet.neptune{
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.55), transparent 45%),
        radial-gradient(circle at 70% 70%, rgba(0,0,0,.16), transparent 55%),
        linear-gradient(145deg, #22c55e, #06b6d4);
      box-shadow:
        0 20px 50px rgba(0,0,0,.45),
        0 0 60px rgba(6,182,212,.18);
    }

    /* Selection highlight */
    .planet.hit{
      animation: hit 520ms ease-out;
    }
    @keyframes hit{
      0%{ transform: scale(1); }
      40%{ transform: scale(1.12); }
      100%{ transform: scale(1); }
    }
    .planet.hit::before{
      content:"";
      position:absolute; inset:-14px;
      border-radius:50%;
      border: 2px solid rgba(255,255,255,.25);
      box-shadow: 0 0 22px rgba(255,255,255,.18);
      opacity:0;
      animation: ring 520ms ease-out;
      pointer-events:none;
    }
    @keyframes ring{
      0%{ opacity:.0; transform: scale(.85); }
      35%{ opacity:.9; }
      100%{ opacity:0; transform: scale(1.25); }
    }

    /* Small member “dots” (no text) */
    .dots{
      position:absolute;
      inset:auto 10px 10px auto;
      display:flex;
      flex-wrap:wrap;
      justify-content:flex-end;
      gap:6px;
      width:60%;
      pointer-events:none;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.25));
    }
    .dot{
      width:10px;height:10px;border-radius:50%;
      background: rgba(255,255,255,.85);
      border:1px solid rgba(255,255,255,.28);
      opacity:0;
      transform: translateY(6px) scale(.8);
      animation: dotIn 420ms cubic-bezier(.2,.9,.2,1) forwards;
    }
    @keyframes dotIn{
      to{ opacity:1; transform: translateY(0) scale(1); }
    }

    /* Burst spark */
    .spark{
      position:absolute;
      inset: 50% auto auto 50%;
      width:8px; height:8px;
      border-radius:50%;
      transform: translate(-50%,-50%);
      background: rgba(255,255,255,.85);
      filter: blur(.2px);
      opacity:0;
      pointer-events:none;
    }
    .spark.go{
      animation: spark 420ms ease-out;
    }
    @keyframes spark{
      0%{ opacity:0; transform: translate(-50%,-50%) scale(.6); }
      35%{ opacity:1; transform: translate(-50%,-50%) scale(1.25); }
      100%{ opacity:0; transform: translate(-50%,-50%) scale(2.2); }
    }

    /* Mobile safe tap area */
    .tap-hint{
      position:absolute;
      inset:0;
      pointer-events:none;
    }
  </style>
</head>

<body>
  <div class="stars"></div>

  <div class="stage">
    <div class="sun-wrap" aria-hidden="true">
      <div class="orbit" id="orbit">
        <div class="planet mars" id="mars"><div class="dots" id="dotsMars"></div></div>
        <div class="planet jupiter" id="jupiter"><div class="dots" id="dotsJupiter"></div></div>
        <div class="planet neptune" id="neptune"><div class="dots" id="dotsNeptune"></div></div>
      </div>

      <div class="rays"></div>
      <button class="sun" id="sunBtn" aria-label="Split"></button>
      <div class="spark" id="spark"></div>
      <div class="tap-hint"></div>
    </div>
  </div>

  <script>
    (function(){
      const orbit = document.getElementById("orbit");
      const sunBtn = document.getElementById("sunBtn");
      const spark = document.getElementById("spark");

      const planets = [
        { id:"mars", dots:"dotsMars" },
        { id:"jupiter", dots:"dotsJupiter" },
        { id:"neptune", dots:"dotsNeptune" }
      ];

      let shown = false;

      function flashSpark(){
        spark.classList.remove("go");
        void spark.offsetWidth;
        spark.classList.add("go");
      }

      function addDot(dotsId){
        const box = document.getElementById(dotsId);
        const d = document.createElement("span");
        d.className = "dot";
        box.appendChild(d);

        // limit dots to keep it clean
        const max = 18;
        while(box.children.length > max) box.removeChild(box.firstChild);
      }

      function pick(){
        // ensure planets are visible first click
        if(!shown){
          orbit.classList.add("on");
          shown = true;
          // little delay so it feels like “planets appear”
          setTimeout(()=>spinOnce(), 220);
          return;
        }
        spinOnce();
      }

      function spinOnce(){
        flashSpark();

        // random planet
        const idx = Math.floor(Math.random() * planets.length);
        const chosen = planets[idx];

        // animate chosen
        const el = document.getElementById(chosen.id);
        el.classList.remove("hit");
        void el.offsetWidth;
        el.classList.add("hit");

        // add a member dot (no text)
        addDot(chosen.dots);

        // tiny screen shake vibe (subtle)
        const wrap = document.querySelector(".sun-wrap");
        wrap.animate(
          [{ transform:"translate3d(0,0,0)" },
           { transform:"translate3d(0,-2px,0)" },
           { transform:"translate3d(0,0,0)" }],
          { duration: 240, easing:"ease-out" }
        );
      }

      sunBtn.addEventListener("click", pick);

      // Space = pick (optional, no text)
      window.addEventListener("keydown", (e)=>{
        if(e.code === "Space"){
          e.preventDefault();
          pick();
        }
      });

      // optional: long-press reset (no UI, no text)
      let t=null;
      sunBtn.addEventListener("pointerdown", ()=>{
        t = setTimeout(()=>{
          ["dotsMars","dotsJupiter","dotsNeptune"].forEach(id=>{
            const box = document.getElementById(id);
            box.innerHTML = "";
          });
        }, 650);
      });
      ["pointerup","pointercancel","pointerleave"].forEach(ev=>{
        sunBtn.addEventListener(ev, ()=>{ if(t) clearTimeout(t); t=null; });
      });
    })();
  </script>
</body>
</html>
